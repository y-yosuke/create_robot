<?xml version="1.0"?>
<launch>

  <arg name="config" default="$(find-pkg-share create_bringup)/config/default.yaml" />
  <arg name="desc" default="true" />
  <arg name="control_mode" default="full" />
  <arg name="camera" default="false" />

  <node name="create_driver" pkg="create_driver" exec="create_driver" output="screen">
    <param from="$(var config)" />
    <param name="robot_model" value="CREATE_1" />
    <param name="control_mode" value="$(var control_mode)" />
  </node>

  <!-- Robot description -->
  <include if="$(var desc)" file="$(find-pkg-share create_description)/launch/create_1.launch" />

  <node if="$(var camera)"
        name="v4l2_camera" pkg="v4l2_camera" exec="v4l2_camera_node" output="screen" />

  <node if="$(var camera)"
        name="image_republish" pkg="image_transport" exec="republish" args="raw" output="screen" >
    <remap from="/in"  to="/image_raw" />
    <remap from="/out" to="/image_raw/compressed" />
  </node>

</launch>
